<!DOCTYPE html 
	  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
  <head>
    <title>JBrowse</title>
    <link rel="stylesheet" type="text/css" href="jslib/dijit/themes/tundra/tundra.css"></link>
    <link rel="stylesheet" type="text/css" href="jslib/dojo/resources/dojo.css"></link>
    <link rel="stylesheet" type="text/css" href="genome.css"></link>
    <style type="text/css">
      html, body { height: 100%; width: 100%; padding: 0; border: 0; }
    </style>

    <script type="text/javascript" src="jslib/dojo/dojo.js" djConfig="isDebug: false"></script>
    <script type="text/javascript" src="jslib/dojo/jbrowse_dojo.js" ></script>

    <script type="text/javascript" src="js/Browser.js"></script>
    <script type="text/javascript" src="js/Util.js"></script>
    <script type="text/javascript" src="js/NCList.js"></script>
    <script type="text/javascript" src="js/LazyPatricia.js"></script>
    <script type="text/javascript" src="js/LazyArray.js"></script>
    <script type="text/javascript" src="js/Track.js"></script>
    <script type="text/javascript" src="js/SequenceTrack.js"></script>
    <script type="text/javascript" src="js/Layout.js"></script>
    <script type="text/javascript" src="js/FeatureTrack.js"></script>
    <script type="text/javascript" src="js/UITracks.js"></script>
    <script type="text/javascript" src="js/ImageTrack.js"></script>
    <script type="text/javascript" src="js/GenomeView.js"></script>
    <script type="text/javascript" src="data/refSeqs.js"></script>
    <script type="text/javascript" src="data/trackInfo.js"></script>

    <script type="text/javascript">
    /* <![CDATA[ */

    dojo.addOnLoad(
        function() {

           var refSeq = refSeqs[21];
           var gv1 = new GenomeView(dojo.byId("species1"), 250, refSeq, 1/200);
           var gv2 = new GenomeView(dojo.byId("species2"), 250, refSeq, 1/200);

           var track = trackInfo[2];
           var replaceData = {refseq: refSeq.name};
           var url = track.url.replace(/\{([^}]+)\}/g, function(match, group) {return replaceData[group];});
           var klass = eval(track.type);

           var newTrack = new klass(track, url, refSeq,
                                    {
                                        changeCallback: function() {gv1.showVisibleBlocks()},
                                        trackPadding: gv1.trackPadding,
                                        baseUrl: "",
                                        charWidth: gv1.charWidth,
                                        seqHeight: gv1.seqHeight
                                    });

           gv1.addTrack(newTrack);

           var newTrack2 = new klass(track, url, refSeq,
                                     {
                                         changeCallback: function() {gv2.showVisibleBlocks()},
                                         trackPadding: gv2.trackPadding,
                                         baseUrl: "",
                                         charWidth: gv2.charWidth,
                                         seqHeight: gv2.seqHeight
                                     });

           gv2.addTrack(newTrack);
        })
    /* ]]> */
    </script>
  </head>
  
  <body>
    <div id="species1" class="dragWindow" style="height: 50%; width: 100%; padding: 0; border: 0; top: 0%;"></div>
    <div id="species2" class="dragWindow" style="height: 50%; width: 100%; padding: 0; border: 0; top: 50%;"></div>
  </body>
</html>
